# Lyra Automation - Learning experience

## Table of contents
1. Introduction

## Introduction
This is a Test Automation project guided at learning on how to use [GameDriver](https://www.gamedriver.io/) with UnrealEngine 5. I have a few years of experience with AltTester and Unity, so giving this task a go should not be too hard. The code included in this repository represents only the automation project, but all changes to the game are listed below. This is based on the [UE5 Lyra example game](https://dev.epicgames.com/documentation/en-us/unreal-engine/lyra-sample-game-in-unreal-engine).

## Automated tests project
The Automated Tests project (LyrAutomate) consists of a few files:
- `Tests.cs` - all unit tests are defined here
- `Automation/Lyra.cs` - static locators for Lyra game objects
- `Automation/Wait.cs` - custom helper function to synchronously await on conditions
- `Extensions/Vector3Extensions.cs` - two handy Vector3 extensions

### Tests
All tests are defined in a `Tests.cs` file, and they are designed using NUnit. In some places a library FluentAssertions is used, to make the code look a bit nicer.

#### Movement test
tbd


```
Adding a bot...
Teleporting bot and player to each other.
Aiming at the bot.
Waiting for Is aiming to be False (30s timeout)...
After waiting for 0.1722259s, Is aiming is False.
Done! Removing the enemy bot.
```


```
Moving left...
Waiting for Player Position Changed to be True (10s timeout)...
After waiting for 0.59058s, Player Position Changed is True.
Successfully moved left!
Moving right...
Waiting for Player Position Changed to be True (10s timeout)...
After waiting for 0.5836887s, Player Position Changed is True.
Successfully moved right!
Moving backwards...
Waiting for Player Position Changed to be True (10s timeout)...
After waiting for 0.5629081s, Player Position Changed is True.
Successfully moved backwards!
Moving forwards...
Waiting for Player Position Changed to be True (10s timeout)...
After waiting for 0.593584s, Player Position Changed is True.
Successfully moved forwards!
```




```
Attempting to shoot...
Waiting for Ammo decreased to be True (10s timeout)...
After waiting for 0.1897732s, Ammo decreased is True.
Attempting to reload...
Waiting for Ammo decreased to be True (10s timeout)...
After waiting for 2.1034448s, Ammo decreased is True.
Found 10 weapon spawners. Teleporting to them all.
Teleporting player to (3377.353, -1830, -380.59402)...
Teleporting player to (4586.512, -1008.41815, -380.41135)...
Teleporting player to (2330.2454, -903.5327, -480.1958)...
Teleporting player to (-3377.353, 1830, -380.59402)...
Teleporting player to (-2258.2454, 916.5327, -480.1958)...
Teleporting player to (-4586.512, 1008.41815, -380.41135)...
Teleporting player to (1472, -6.75, -1218.1145)...
Teleporting player to (-1472, -8.308535E-07, -1218.1145)...
Teleporting player to (0, -1623.652, 83.333786)...
Teleporting player to (12.109891, 1634.6387, 83.333786)...
Teleporting player back to spawn.
Attempting to throw a grenade...
Teleporting player to grenade.
Waiting for Respawn Timer Visible to be True (30s timeout)...
After waiting for 0.4411759s, Respawn Timer Visible is True.
Waiting for Respawn Timer Visible to be False (30s timeout)...
After waiting for 5.4055514s, Respawn Timer Visible is False.
```
